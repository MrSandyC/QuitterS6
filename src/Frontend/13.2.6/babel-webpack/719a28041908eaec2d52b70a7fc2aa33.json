{"ast":null,"code":"import _asyncToGenerator from \"/home/sander/Projects/quitter/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport { first } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/auth0-angular\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/cdk/text-field\";\nimport * as i8 from \"@angular/material/button\";\nexport class EditProfileComponent {\n  constructor(auth, userService, router, _formBuilder) {\n    this.auth = auth;\n    this.userService = userService;\n    this.router = router;\n    this._formBuilder = _formBuilder;\n    this.auth.user$.subscribe(auth0User => this.userService.fetchUserByToken(auth0User.sub).pipe(first()).subscribe(fetchedUser => {\n      this.user = fetchedUser;\n\n      this._formBuilder.group({\n        username: [fetchedUser.username],\n        nickname: [fetchedUser.nickname],\n        description: [fetchedUser.description],\n        location: [fetchedUser.location]\n      });\n\n      console.log(fetchedUser);\n    }));\n  }\n\n  ngOnInit() {\n    this.initialUser = this.user;\n    console.log(this.user);\n    this.profileForm = this._formBuilder.group({\n      username: [''],\n      nickname: [''],\n      description: [''],\n      location: ['']\n    });\n  }\n\n  editProfile() {\n    var _this = this;\n\n    if (this.profileForm.value.nickname !== '') {\n      this.user.nickname = this.profileForm.value.nickname;\n    }\n\n    if (this.profileForm.value.description !== '') {\n      this.user.description = this.profileForm.value.description;\n    }\n\n    if (this.profileForm.value.location !== '') {\n      this.user.location = this.profileForm.value.location;\n    }\n\n    if (this.user === this.initialUser) {\n      console.log('No changes found');\n    }\n\n    console.log(this.user);\n    this.userService.updateUser(this.user).subscribe( /*#__PURE__*/function () {\n      var _ref = _asyncToGenerator(function* (result) {\n        return yield _this.router.navigate([`${_this.user.username}`]);\n      });\n\n      return function (_x) {\n        return _ref.apply(this, arguments);\n      };\n    }());\n  }\n\n}\n\nEditProfileComponent.ɵfac = function EditProfileComponent_Factory(t) {\n  return new (t || EditProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder));\n};\n\nEditProfileComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: EditProfileComponent,\n  selectors: [[\"app-edit-profile\"]],\n  decls: 23,\n  vars: 6,\n  consts: [[1, \"edit-profile-container\"], [1, \"edit-display-block\"], [3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"standard\", 1, \"edit-profile-distance\"], [1, \"edit-profile-white\"], [\"matInput\", \"\", \"formControlName\", \"username\", \"readonly\", \"\", 3, \"placeholder\"], [\"matInput\", \"\", \"formControlName\", \"nickname\", 3, \"value\"], [\"matInput\", \"\", \"formControlName\", \"description\", \"cdkTextareaAutosize\", \"\", 3, \"placeholder\"], [\"matInput\", \"\", \"formControlName\", \"location\", 3, \"placeholder\"], [\"mat-button\", \"\"]],\n  template: function EditProfileComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n      i0.ɵɵtext(2, \"Edit profile\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(3, \"form\", 2);\n      i0.ɵɵlistener(\"ngSubmit\", function EditProfileComponent_Template_form_ngSubmit_3_listener() {\n        return ctx.editProfile();\n      });\n      i0.ɵɵelementStart(4, \"mat-form-field\", 3)(5, \"mat-label\", 4);\n      i0.ɵɵtext(6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(7, \"input\", 5);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(8, \"mat-form-field\", 3)(9, \"mat-label\", 4);\n      i0.ɵɵtext(10, \"Nickname\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(11, \"input\", 6);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(12, \"br\");\n      i0.ɵɵelementStart(13, \"mat-form-field\", 3)(14, \"mat-label\", 4);\n      i0.ɵɵtext(15, \"Description\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(16, \"textarea\", 7);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(17, \"mat-form-field\", 3)(18, \"mat-label\", 4);\n      i0.ɵɵtext(19, \"Location\");\n      i0.ɵɵelementEnd();\n      i0.ɵɵelement(20, \"input\", 8);\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementStart(21, \"button\", 9);\n      i0.ɵɵtext(22, \"Submit\");\n      i0.ɵɵelementEnd()()();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n      i0.ɵɵadvance(3);\n      i0.ɵɵtextInterpolate(ctx.user[\"username\"]);\n      i0.ɵɵadvance(1);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"username\"]);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"value\", ctx.user[\"nickname\"]);\n      i0.ɵɵadvance(5);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"description\"]);\n      i0.ɵɵadvance(4);\n      i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"location\"]);\n    }\n  },\n  directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i7.CdkTextareaAutosize, i8.MatButton],\n  styles: [\".edit-profile-white[_ngcontent-%COMP%] {\\n    color: #FFFFFF;\\n    padding: 15px\\n}\\n\\n.edit-display-block[_ngcontent-%COMP%] {\\n    display: block;\\n}\\n\\n.edit-profile-distance[_ngcontent-%COMP%] {\\n    margin: 15px;\\n}\\n\\n.edit-profile-container[_ngcontent-%COMP%] {\\n    width: 55vw;\\n    justify-content: center;\\n    background: #36393F;\\n    border: 1px solid #B9BBBE;\\n    box-sizing: border-box;\\n    color: #FFFFFF;\\n    height: -moz-fit-content;\\n    height: fit-content;\\n    text-align: center;\\n  }\\n\\n  input.mat-input-element {\\n    color: #FFFFFF;\\n  }\\n\\n\\n\\n  .mat-form-field.mat-focused .mat-form-field-label {\\n    color: #FFFFFF !important;\\n  }\\n\\n\\n\\n  .mat-focused .mat-form-field-underline .mat-form-field-ripple{\\n    background-color: #FFFFFF !important;\\n  }\\n\\n  .mat-form-field-autofill-control .ng-tns-c86-1 .cdk-text-field-autofill-monitored {\\n      color: #FFFFFF !important;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtcHJvZmlsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksY0FBYztJQUNkO0FBQ0o7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsY0FBYztJQUNkLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsa0JBQWtCO0VBQ3BCOztBQUVBO0lBQ0UsY0FBYztFQUNoQjs7QUFFQSxrQ0FBa0M7O0FBQ3BDO0lBQ0kseUJBQXlCO0VBQzNCOztBQUVBLHNDQUFzQzs7QUFDdEM7SUFDRSxvQ0FBb0M7RUFDdEM7O0FBRUE7TUFDSSx5QkFBeUI7RUFDN0IiLCJmaWxlIjoiZWRpdC1wcm9maWxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZWRpdC1wcm9maWxlLXdoaXRlIHtcbiAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICBwYWRkaW5nOiAxNXB4XG59XG5cbi5lZGl0LWRpc3BsYXktYmxvY2sge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uZWRpdC1wcm9maWxlLWRpc3RhbmNlIHtcbiAgICBtYXJnaW46IDE1cHg7XG59XG5cbi5lZGl0LXByb2ZpbGUtY29udGFpbmVyIHtcbiAgICB3aWR0aDogNTV2dztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiAjMzYzOTNGO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNCOUJCQkU7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIDo6bmctZGVlcCBpbnB1dC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY29sb3I6ICNGRkZGRkY7XG4gIH1cblxuICAvKiBDaGFuZ2UgbGFiZWwgY29sb3Igb24gZm9jdXNlZCAqL1xuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgIGNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7XG4gIH1cbiAgXG4gIC8qIHVuZGVybGluZSBib3JkZXIgY29sb3Igb24gZm9jdXNlZCAqL1xuICA6Om5nLWRlZXAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXV0b2ZpbGwtY29udHJvbCAubmctdG5zLWM4Ni0xIC5jZGstdGV4dC1maWVsZC1hdXRvZmlsbC1tb25pdG9yZWQge1xuICAgICAgY29sb3I6ICNGRkZGRkYgIWltcG9ydGFudDtcbiAgfSJdfQ== */\"]\n});","map":{"version":3,"sources":["/home/sander/Projects/quitter/src/app/components/edit-profile/edit-profile.component.ts"],"names":["first","i0","i1","i2","i3","i4","i5","i6","i7","i8","EditProfileComponent","constructor","auth","userService","router","_formBuilder","user$","subscribe","auth0User","fetchUserByToken","sub","pipe","fetchedUser","user","group","username","nickname","description","location","console","log","ngOnInit","initialUser","profileForm","editProfile","value","updateUser","result","navigate","ɵfac","EditProfileComponent_Factory","t","ɵɵdirectiveInject","AuthService","UserService","Router","FormBuilder","ɵcmp","ɵɵdefineComponent","type","selectors","decls","vars","consts","template","EditProfileComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","EditProfileComponent_Template_form_ngSubmit_3_listener","ɵɵelement","ɵɵadvance","ɵɵproperty","ɵɵtextInterpolate","ɵɵpropertyInterpolate","directives","ɵNgNoValidate","NgControlStatusGroup","FormGroupDirective","MatFormField","MatLabel","MatInput","DefaultValueAccessor","NgControlStatus","FormControlName","CdkTextareaAutosize","MatButton","styles"],"mappings":"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","sourcesContent":["import { first } from 'rxjs';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@auth0/auth0-angular\";\nimport * as i2 from \"src/app/services/user.service\";\nimport * as i3 from \"@angular/router\";\nimport * as i4 from \"@angular/forms\";\nimport * as i5 from \"@angular/material/form-field\";\nimport * as i6 from \"@angular/material/input\";\nimport * as i7 from \"@angular/cdk/text-field\";\nimport * as i8 from \"@angular/material/button\";\nexport class EditProfileComponent {\n    constructor(auth, userService, router, _formBuilder) {\n        this.auth = auth;\n        this.userService = userService;\n        this.router = router;\n        this._formBuilder = _formBuilder;\n        this.auth.user$.subscribe((auth0User) => this.userService\n            .fetchUserByToken(auth0User.sub)\n            .pipe(first())\n            .subscribe((fetchedUser) => {\n            this.user = fetchedUser;\n            this._formBuilder.group({\n                username: [fetchedUser.username],\n                nickname: [fetchedUser.nickname],\n                description: [fetchedUser.description],\n                location: [fetchedUser.location],\n            });\n            console.log(fetchedUser);\n        }));\n    }\n    ngOnInit() {\n        this.initialUser = this.user;\n        console.log(this.user);\n        this.profileForm = this._formBuilder.group({\n            username: [''],\n            nickname: [''],\n            description: [''],\n            location: [''],\n        });\n    }\n    editProfile() {\n        if (this.profileForm.value.nickname !== '') {\n            this.user.nickname = this.profileForm.value.nickname;\n        }\n        if (this.profileForm.value.description !== '') {\n            this.user.description = this.profileForm.value.description;\n        }\n        if (this.profileForm.value.location !== '') {\n            this.user.location = this.profileForm.value.location;\n        }\n        if (this.user === this.initialUser) {\n            console.log('No changes found');\n        }\n        console.log(this.user);\n        this.userService\n            .updateUser(this.user)\n            .subscribe(async (result) => await this.router.navigate([`${this.user.username}`]));\n    }\n}\nEditProfileComponent.ɵfac = function EditProfileComponent_Factory(t) { return new (t || EditProfileComponent)(i0.ɵɵdirectiveInject(i1.AuthService), i0.ɵɵdirectiveInject(i2.UserService), i0.ɵɵdirectiveInject(i3.Router), i0.ɵɵdirectiveInject(i4.FormBuilder)); };\nEditProfileComponent.ɵcmp = /*@__PURE__*/ i0.ɵɵdefineComponent({ type: EditProfileComponent, selectors: [[\"app-edit-profile\"]], decls: 23, vars: 6, consts: [[1, \"edit-profile-container\"], [1, \"edit-display-block\"], [3, \"formGroup\", \"ngSubmit\"], [\"appearance\", \"standard\", 1, \"edit-profile-distance\"], [1, \"edit-profile-white\"], [\"matInput\", \"\", \"formControlName\", \"username\", \"readonly\", \"\", 3, \"placeholder\"], [\"matInput\", \"\", \"formControlName\", \"nickname\", 3, \"value\"], [\"matInput\", \"\", \"formControlName\", \"description\", \"cdkTextareaAutosize\", \"\", 3, \"placeholder\"], [\"matInput\", \"\", \"formControlName\", \"location\", 3, \"placeholder\"], [\"mat-button\", \"\"]], template: function EditProfileComponent_Template(rf, ctx) { if (rf & 1) {\n        i0.ɵɵelementStart(0, \"div\", 0)(1, \"h1\", 1);\n        i0.ɵɵtext(2, \"Edit profile\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(3, \"form\", 2);\n        i0.ɵɵlistener(\"ngSubmit\", function EditProfileComponent_Template_form_ngSubmit_3_listener() { return ctx.editProfile(); });\n        i0.ɵɵelementStart(4, \"mat-form-field\", 3)(5, \"mat-label\", 4);\n        i0.ɵɵtext(6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(7, \"input\", 5);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(8, \"mat-form-field\", 3)(9, \"mat-label\", 4);\n        i0.ɵɵtext(10, \"Nickname\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(11, \"input\", 6);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(12, \"br\");\n        i0.ɵɵelementStart(13, \"mat-form-field\", 3)(14, \"mat-label\", 4);\n        i0.ɵɵtext(15, \"Description\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(16, \"textarea\", 7);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(17, \"mat-form-field\", 3)(18, \"mat-label\", 4);\n        i0.ɵɵtext(19, \"Location\");\n        i0.ɵɵelementEnd();\n        i0.ɵɵelement(20, \"input\", 8);\n        i0.ɵɵelementEnd();\n        i0.ɵɵelementStart(21, \"button\", 9);\n        i0.ɵɵtext(22, \"Submit\");\n        i0.ɵɵelementEnd()()();\n    } if (rf & 2) {\n        i0.ɵɵadvance(3);\n        i0.ɵɵproperty(\"formGroup\", ctx.profileForm);\n        i0.ɵɵadvance(3);\n        i0.ɵɵtextInterpolate(ctx.user[\"username\"]);\n        i0.ɵɵadvance(1);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"username\"]);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"value\", ctx.user[\"nickname\"]);\n        i0.ɵɵadvance(5);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"description\"]);\n        i0.ɵɵadvance(4);\n        i0.ɵɵpropertyInterpolate(\"placeholder\", ctx.user[\"location\"]);\n    } }, directives: [i4.ɵNgNoValidate, i4.NgControlStatusGroup, i4.FormGroupDirective, i5.MatFormField, i5.MatLabel, i6.MatInput, i4.DefaultValueAccessor, i4.NgControlStatus, i4.FormControlName, i7.CdkTextareaAutosize, i8.MatButton], styles: [\".edit-profile-white[_ngcontent-%COMP%] {\\n    color: #FFFFFF;\\n    padding: 15px\\n}\\n\\n.edit-display-block[_ngcontent-%COMP%] {\\n    display: block;\\n}\\n\\n.edit-profile-distance[_ngcontent-%COMP%] {\\n    margin: 15px;\\n}\\n\\n.edit-profile-container[_ngcontent-%COMP%] {\\n    width: 55vw;\\n    justify-content: center;\\n    background: #36393F;\\n    border: 1px solid #B9BBBE;\\n    box-sizing: border-box;\\n    color: #FFFFFF;\\n    height: -moz-fit-content;\\n    height: fit-content;\\n    text-align: center;\\n  }\\n\\n  input.mat-input-element {\\n    color: #FFFFFF;\\n  }\\n\\n\\n\\n  .mat-form-field.mat-focused .mat-form-field-label {\\n    color: #FFFFFF !important;\\n  }\\n\\n\\n\\n  .mat-focused .mat-form-field-underline .mat-form-field-ripple{\\n    background-color: #FFFFFF !important;\\n  }\\n\\n  .mat-form-field-autofill-control .ng-tns-c86-1 .cdk-text-field-autofill-monitored {\\n      color: #FFFFFF !important;\\n  }\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImVkaXQtcHJvZmlsZS5jb21wb25lbnQuY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0lBQ0ksY0FBYztJQUNkO0FBQ0o7O0FBRUE7SUFDSSxjQUFjO0FBQ2xCOztBQUVBO0lBQ0ksWUFBWTtBQUNoQjs7QUFFQTtJQUNJLFdBQVc7SUFDWCx1QkFBdUI7SUFDdkIsbUJBQW1CO0lBQ25CLHlCQUF5QjtJQUN6QixzQkFBc0I7SUFDdEIsY0FBYztJQUNkLHdCQUFtQjtJQUFuQixtQkFBbUI7SUFDbkIsa0JBQWtCO0VBQ3BCOztBQUVBO0lBQ0UsY0FBYztFQUNoQjs7QUFFQSxrQ0FBa0M7O0FBQ3BDO0lBQ0kseUJBQXlCO0VBQzNCOztBQUVBLHNDQUFzQzs7QUFDdEM7SUFDRSxvQ0FBb0M7RUFDdEM7O0FBRUE7TUFDSSx5QkFBeUI7RUFDN0IiLCJmaWxlIjoiZWRpdC1wcm9maWxlLmNvbXBvbmVudC5jc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZWRpdC1wcm9maWxlLXdoaXRlIHtcbiAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICBwYWRkaW5nOiAxNXB4XG59XG5cbi5lZGl0LWRpc3BsYXktYmxvY2sge1xuICAgIGRpc3BsYXk6IGJsb2NrO1xufVxuXG4uZWRpdC1wcm9maWxlLWRpc3RhbmNlIHtcbiAgICBtYXJnaW46IDE1cHg7XG59XG5cbi5lZGl0LXByb2ZpbGUtY29udGFpbmVyIHtcbiAgICB3aWR0aDogNTV2dztcbiAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcbiAgICBiYWNrZ3JvdW5kOiAjMzYzOTNGO1xuICAgIGJvcmRlcjogMXB4IHNvbGlkICNCOUJCQkU7XG4gICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcbiAgICBjb2xvcjogI0ZGRkZGRjtcbiAgICBoZWlnaHQ6IGZpdC1jb250ZW50O1xuICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgfVxuXG4gIDo6bmctZGVlcCBpbnB1dC5tYXQtaW5wdXQtZWxlbWVudCB7XG4gICAgY29sb3I6ICNGRkZGRkY7XG4gIH1cblxuICAvKiBDaGFuZ2UgbGFiZWwgY29sb3Igb24gZm9jdXNlZCAqL1xuOjpuZy1kZWVwIC5tYXQtZm9ybS1maWVsZC5tYXQtZm9jdXNlZCAubWF0LWZvcm0tZmllbGQtbGFiZWwge1xuICAgIGNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7XG4gIH1cbiAgXG4gIC8qIHVuZGVybGluZSBib3JkZXIgY29sb3Igb24gZm9jdXNlZCAqL1xuICA6Om5nLWRlZXAgLm1hdC1mb2N1c2VkIC5tYXQtZm9ybS1maWVsZC11bmRlcmxpbmUgLm1hdC1mb3JtLWZpZWxkLXJpcHBsZXtcbiAgICBiYWNrZ3JvdW5kLWNvbG9yOiAjRkZGRkZGICFpbXBvcnRhbnQ7XG4gIH1cbiAgXG4gIDo6bmctZGVlcCAubWF0LWZvcm0tZmllbGQtYXV0b2ZpbGwtY29udHJvbCAubmctdG5zLWM4Ni0xIC5jZGstdGV4dC1maWVsZC1hdXRvZmlsbC1tb25pdG9yZWQge1xuICAgICAgY29sb3I6ICNGRkZGRkYgIWltcG9ydGFudDtcbiAgfSJdfQ== */\"] });\n"]},"metadata":{},"sourceType":"module"}